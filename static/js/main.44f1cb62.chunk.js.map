{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","hooks/useValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","index.js"],"names":["module","exports","Header","className","href","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","onClick","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","avatar","about","map","key","Footer","PopupWithForm","isOpen","onClose","title","children","onSubmit","onMouseUp","event","target","currentTarget","action","noValidate","useValidation","fields","fieldsEnumeration","value","reduce","acc","field","useState","isValid","setIsValid","inputValue","setInputValue","validationMessage","setValidationMessage","handleInputChange","validity","valid","EditProfilePopup","onUpdateUser","isLoading","useEffect","preventDefault","onChange","placeholder","minLength","maxLength","pattern","required","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","current","ref","AddPlacePopup","DeleteConfirmPopup","ImagePopup","api","baseUrl","headers","this","fetch","then","res","ok","json","Promise","reject","status","item","method","body","JSON","stringify","newCard","id","authorization","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isDeletePopupOpen","setDeletePopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","getUserAndCards","a","all","getUserInfo","getCards","userInfo","console","log","closeAllPopups","handleEscapeClose","document","addEventListener","removeEventListener","Provider","dislikeCard","likeCard","newCards","c","catch","err","setUserInfo","userData","finally","createCard","setAvatar","deleteCard","deleteCards","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44f1cb62.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n    return (\n        <header className=\"header page__header\">\n            <a className=\"logo header__logo opacity\" href=\"../../public/index.html\">\n                <img className=\"logo__image\" src={logo} alt=\"Логотип сайта Место\" />\n            </a>\n        </header>\n    );\n}\n\nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const handleLikeClick = () => {\n        onCardLike(card);\n    }\n\n    const handleDeleteClick = () => {\n        onCardDelete(card);\n    }\n\n    const handleClick = () => {\n        onCardClick(card);\n    }\n\n    return (\n        <li className=\"pictures__item\">\n            <button\n                className={`${isOwn ? `button pictures__delete pictures__delete_show opacity` : `button pictures__delete opacity`}`}\n                type=\"button\" onClick={handleDeleteClick}/>\n            <img className=\"pictures__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n            <div className=\"pictures__cover\">\n                <p className=\"pictures__title\">{card.name}</p>\n                <div className=\"pictures__like-cover\">\n                    <button\n                        className={`${isLiked ? `button pictures__like pictures__like_active opacity` : `button pictures__like opacity`}`}\n                        type=\"button\" onClick={handleLikeClick}/>\n                    <span className=\"pictures__like-counter\">{card.likes.length}</span>\n                </div>\n            </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst Main = ({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <main className=\"content page__content\">\n            <section className=\"profile\">\n                <div className=\"profile__cover\">\n                    <div className=\"avatar profile__avatar\" onClick={onEditAvatar}\n                         style={{backgroundImage: `url(${currentUser.avatar})`}}/>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__position\">\n                            <h1 className=\"profile__title\">{currentUser.name}</h1>\n                            <button className=\"button button_edit profile__button opacity\" type=\"button\"\n                                    onClick={onEditProfile}/>\n                        </div>\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"button button_add opacity\" type=\"button\" onClick={onAddPlace}/>\n            </section>\n\n            <section className=\"pictures\">\n                <ul className=\"pictures__list\">\n                    {cards.map((card) => <Card key={card._id} onCardClick={onCardClick} card={card}\n                                               onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction Footer() {\n    return (\n        <footer className=\"footer page__footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nconst PopupWithForm = ({name, isOpen, onClose, title, children, onSubmit}) => {\n    const handleOverlayClose = (event) => {\n        if (event.target === event.currentTarget && isOpen) {\n            onClose();\n        }\n    };\n\n    return (\n        <section className={`${isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`}`}\n                 onMouseUp={handleOverlayClose}>\n            <div className=\"popup__container\">\n                <button className=\"button popup__close opacity\" type=\"button\" onClick={onClose}/>\n                <h2 className=\"popup__title\">{title}</h2>\n                <form className={`popup__form form_type_${name}`} action=\"#\" name={`${name}`} onSubmit={onSubmit}\n                      noValidate>\n                    {children}\n                </form>\n            </div>\n        </section>\n    );\n}\n\nexport default PopupWithForm;","import React from \"react\";\n\nconst useValidation = (fields) => {\n    const fieldsEnumeration = (value) => {\n        return (\n            fields.reduce((acc, field) => {\n                acc[field] = value;\n                return acc\n            }, {})\n        )\n    };\n\n    const [isValid, setIsValid] = React.useState(fieldsEnumeration(false));\n    const [inputValue, setInputValue] = React.useState(fieldsEnumeration(''));\n    const [validationMessage, setValidationMessage] = React.useState(fieldsEnumeration(''));\n\n    const handleInputChange = (event) => {\n        const {name, value} = event.target;\n        setInputValue({\n            ...inputValue,\n            [name]: value\n        });\n\n        setIsValid({\n            ...isValid,\n            [name]: event.target.validity.valid\n        });\n\n        setValidationMessage({\n            ...validationMessage,\n            [name]: event.target.validationMessage\n        });\n    };\n\n    return {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    }\n}\n\nexport default useValidation;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst EditProfilePopup = ({isOpen, onClose, onUpdateUser, isLoading}) => {\n    const fields = ['name', 'about'];\n\n    const {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    } = useValidation(fields);\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onUpdateUser({\n            name: inputValue.name,\n            about: inputValue.about,\n        });\n    };\n\n    React.useEffect(() => {\n        setInputValue({\n            name: currentUser.name || '',\n            about: currentUser.about || '',\n        });\n        setIsValid(fieldsEnumeration(true));\n        setValidationMessage(fieldsEnumeration(''));\n    }, [currentUser, isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n    return (\n        <PopupWithForm title={'Редактировать профиль'} name={'edit'} isOpen={isOpen} onClose={onClose}\n                       onSubmit={handleSubmit}>\n            <div className=\"popup__cover\">\n                <label className=\"popup__control\">\n                    <input\n                        className={`${validationMessage.name ? `popup__input popup__input_type_name popup__input_type_error` : `popup__input popup__input_type_name`}`}\n                        type=\"text\" name=\"name\" value={inputValue.name}\n                        onChange={handleInputChange} placeholder=\"Имя\" minLength=\"2\" maxLength=\"20\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\" required/>\n                    <span\n                        className={`${isValid.name ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.name}</span>\n                </label>\n                <label className=\"popup__control\">\n                    <input\n                        className={`${validationMessage.about ? `popup__input popup__input_type_about popup__input_type_error` : `popup__input popup__input_type_about`}`}\n                        type=\"text\" name=\"about\" value={inputValue.about}\n                        onChange={handleInputChange} placeholder=\"Занятие\" minLength=\"2\" maxLength=\"200\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\" required/>\n                    <span\n                        className={`${isValid.about ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.about}</span>\n                </label>\n            </div>\n            <input\n                className={`${isValid.name && isValid.about ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n                type=\"submit\" value={`${isLoading ? `Сохранение...` : `Сохранить`}`} name=\"submit\"/>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst EditAvatarPopup = ({isOpen, onClose, onUpdateAvatar, isLoading}) => {\n    const fields = ['avatar'];\n\n    const {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    } = useValidation(fields);\n\n    const avatarInputRef = React.useRef(null);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarInputRef.current.value,\n        });\n    }\n\n    React.useEffect(() => {\n        setInputValue(fieldsEnumeration(''));\n        setIsValid(fieldsEnumeration(false));\n        setValidationMessage(fieldsEnumeration(''));\n    }, [isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n    return (\n        <PopupWithForm title={'Обновить аватар'} name={'avatar'} isOpen={isOpen} onClose={onClose}\n                       onSubmit={handleSubmit}>\n            <div className=\"popup__cover popup__cover_type_avatar\">\n                <label className=\"popup__control\">\n                    <input ref={avatarInputRef}\n                           className={`${validationMessage.avatar ? `popup__input popup__input_type_avatar popup__input_type_error` : `popup__input popup__input_type_avatar`}`}\n                           type=\"url\" name=\"avatar\" value={inputValue.avatar} placeholder=\"Ссылка на картинку\"\n                           onChange={handleInputChange} required/>\n                    <span className={`${isValid.avatar ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.avatar}</span>\n                </label>\n            </div>\n            <input\n                className={`${isValid.avatar ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n                type=\"submit\"\n                value={`${isLoading ? `Сохранение...` : `Сохранить`}`}\n                name=\"submit\"/>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst AddPlacePopup = ({isOpen, onClose, onAddPlace, isLoading}) => {\n    const fields = ['name', 'link'];\n\n    const {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    } = useValidation(fields);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onAddPlace({\n            name: inputValue.name,\n            link: inputValue.link\n        });\n    }\n\n    React.useEffect(() => {\n        setInputValue(fieldsEnumeration(''));\n        setIsValid(fieldsEnumeration(false));\n        setValidationMessage(fieldsEnumeration(''));\n    }, [isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n    return (\n        <PopupWithForm title={'Новое место'} name={'add'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <div className=\"popup__cover\">\n                <label className=\"popup__control\">\n                    <input\n                        className={`${validationMessage.name ? `popup__input popup__input_type_title popup__input_type_error` : `popup__input popup__input_type_title`}`}\n                        type=\"text\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\"\n                        required value={inputValue.name}\n                        onChange={handleInputChange}/>\n                    <span\n                        className={`${isValid.name ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.name}</span>\n                </label>\n                <label className=\"popup__control\">\n                    <input\n                        className={`${validationMessage.link ? `popup__input popup__input_type_link popup__input_type_error` : `popup__input popup__input_type_link`}`}\n                        type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required value={inputValue.link}\n                        onChange={handleInputChange}/>\n                    <span\n                        className={`${isValid.link ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.link}</span>\n                </label>\n            </div>\n            <input\n                className={`${isValid.link && isValid.name ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n                type=\"submit\" value={`${isLoading ? `Сохранение...` : `Сохранить`}`}\n                name=\"submit\"/>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst DeleteConfirmPopup = ({card, onClose, isOpen, onCardDelete, isLoading}) => {\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onCardDelete(card);\n    };\n\n    return (\n        <PopupWithForm title={'Вы уверены?'} name={'prevent'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <input className=\"button popup__submit\" type=\"submit\" name=\"submit\" value={`${isLoading ? `Удаление...` : `Да`}`}/>\n        </PopupWithForm>\n    )\n}\n\nexport default DeleteConfirmPopup;","import React from \"react\";\n\nconst ImagePopup = ({card, isOpen, onClose}) => {\n    const handleOverlayClose = (event) => {\n        if (event.target === event.currentTarget) {\n            onClose();\n        }\n    };\n\n    return (\n        <section className={`${isOpen ? `popup popup_type_picture popup_opened` : `popup popup_type_picture`}`}\n                 onMouseUp={handleOverlayClose}>\n            <div className=\"popup__container popup__container_type_picture\">\n                <button className=\"button popup__close opacity\" type=\"button\" onClick={onClose}/>\n                <figure className=\"popup__figure\">\n                    <img className=\"popup__image\" src={card.link} alt={card.name}/>\n                    <figcaption className=\"popup__caption\">{card.name}</figcaption>\n                </figure>\n            </div>\n        </section>\n    );\n}\n\nexport default ImagePopup;","class Api {\n    constructor({baseUrl, headers}) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    getUserInfo() {\n        return fetch(`${this.baseUrl}users/me`, {\n            headers: this.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    getCards() {\n        return fetch(`${this.baseUrl}cards`, {\n            headers: this.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    setUserInfo(item) {\n        return fetch(`${this.baseUrl}users/me`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: item.name,\n                about: item.about\n            })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    createCard(newCard) {\n        return fetch(`${this.baseUrl}cards`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: newCard.name,\n                link: newCard.link,\n            })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    deleteCard(id) {\n        return fetch(`${this.baseUrl}cards/${id}`, {\n            method: 'DELETE',\n            headers: this.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    likeCard(id) {\n        return fetch(`${this.baseUrl}cards/likes/${id}`, {\n            method: 'PUT',\n            headers: this.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    dislikeCard(id) {\n        return fetch(`${this.baseUrl}cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: this.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n\n    setAvatar(avatar) {\n        return fetch(`${this.baseUrl}users/me/avatar`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify(avatar),\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                }\n                return Promise.reject(`Ошибка: ${res.status}`)\n            })\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14/',\n    headers: {\n        authorization: '015c5709-d89c-4f94-866c-ab8c6888fc92',\n        'Content-Type': 'application/json',\n    }\n})\n\nexport default api;","import React from 'react';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst App = () => {\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n    const [isDeletePopupOpen, setDeletePopupOpen] = React.useState(false);\n    const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState([]);\n    const [cards, setCards] = React.useState([]);\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    const handleCardLike = (card) => {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        const promise = isLiked ? api.dislikeCard(card._id) : api.likeCard(card._id);\n        promise\n            .then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n            });\n    };\n\n    const handleCardDelete = (card) => {\n        setIsLoading(true)\n        api.deleteCard(card._id)\n            .then(() => {\n                const deleteCards = cards.filter((c) => c._id !== card._id);\n                setCards(deleteCards);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n            })\n            .finally(() => {\n                setIsLoading(false)\n            })\n    };\n\n    const getUserAndCards = async () => {\n        try {\n            const [userInfo, cards] = await Promise.all([api.getUserInfo(), api.getCards()]);\n            setCards(cards);\n            setCurrentUser(userInfo);\n        } catch (err) {\n            console.log(`${err}`);\n        }\n    };\n\n    React.useEffect(() => {\n        getUserAndCards();\n    }, [])\n\n    const handleEditAvatarClick = () => {\n        setEditAvatarPopupOpen(true);\n    };\n\n    const handleEditProfileClick = () => {\n        setEditProfilePopupOpen(true);\n    };\n\n    const handleAddPlaceClick = () => {\n        setAddPlacePopupOpen(true);\n    };\n\n    const handleDeletePopupOpenClick = (card) => {\n        setDeletePopupOpen(true);\n        setSelectedCard(card);\n    };\n\n    const handleCardClick = (card) => {\n        setImagePopupOpen(true);\n        setSelectedCard(card);\n    };\n\n    const closeAllPopups = () => {\n        setEditAvatarPopupOpen(false);\n        setEditProfilePopupOpen(false);\n        setAddPlacePopupOpen(false);\n        setDeletePopupOpen(false);\n        setSelectedCard(false);\n        setImagePopupOpen(false);\n    };\n\n    const handleUpdateUser = (userInfo) => {\n        setIsLoading(true)\n        api.setUserInfo(userInfo)\n            .then((userData) => {\n                setCurrentUser(userData);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n            })\n            .finally(() => {\n                setIsLoading(false)\n            })\n\n    };\n\n    const handleUpdateAvatar = (inputValue) => {\n        setIsLoading(true)\n        api.setAvatar(inputValue)\n            .then((avatar) => {\n                setCurrentUser(avatar);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n            })\n            .finally(() => {\n                setIsLoading(false)\n            })\n    };\n\n    const handleEscapeClose = (event) => {\n        if (event.key === 'Escape') {\n            closeAllPopups()\n        }\n    };\n\n    React.useEffect(() => {\n        document.addEventListener(\"keydown\", handleEscapeClose, false);\n\n        return () => {\n            document.removeEventListener(\"keydown\", handleEscapeClose, false);\n        };\n    });\n\n    const handleAddPlaceSubmit = (inputValue) => {\n        setIsLoading(true)\n        api.createCard(inputValue)\n            .then((newCard) => {\n                setCards([...cards, newCard]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n            })\n            .finally(() => {\n                setIsLoading(false)\n            })\n    };\n\n    return (\n        <div className=\"page\">\n            <div className=\"page__cover\">\n                <CurrentUserContext.Provider value={currentUser}>\n                    <Header/>\n                    <Main\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onCardClick={handleCardClick}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleDeletePopupOpenClick}\n                        cards={cards}\n                    />\n                    <Footer/>\n                    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}\n                                      onUpdateUser={handleUpdateUser} isLoading={isLoading}/>\n\n                    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}\n                                   onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}/>\n\n                    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                                     onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}/>\n\n                    <DeleteConfirmPopup isOpen={isDeletePopupOpen} onClose={closeAllPopups}\n                                        card={selectedCard} onCardDelete={handleCardDelete} isLoading={isLoading}/>\n\n                    <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard}/>\n                </CurrentUserContext.Provider>\n            </div>\n        </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}